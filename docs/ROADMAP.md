# LIFETRACER ロードマップ

> 次に何をすべきか、一目でわかるドキュメント

## 現在のステータス

```
Phase 1: データ収集基盤 ████████████████████ 100% ✅ 完了
Phase 2: 本番運用        ████░░░░░░░░░░░░░░░░  20% 🔄 進行中
Phase 3: DWH構築        ░░░░░░░░░░░░░░░░░░░░   0% ⏳ 未着手
Phase 4: 可視化         ░░░░░░░░░░░░░░░░░░░░   0% ⏳ 未着手
```

---

## 今すぐやること（Next Actions）

### 🎯 最優先: 本番運用開始

| # | タスク | 見積 | 依存 |
|---|--------|------|------|
| 1 | **GitHub Actions設定** | 1h | - |
|   | `.github/workflows/sync-daily.yml` をPython実行に変更 | | |
| 2 | **本番E2Eテスト** | 2h | #1 |
|   | 全8サービスの同期が本番で動作することを確認 | | |
| 3 | **暗号化キー復旧手順** | 1h | - |
|   | `TOKEN_ENCRYPTION_KEY` 紛失時のリカバリ手順を文書化 | | |

**完了条件**: 毎日自動で8サービスのデータが同期される

---

## マイルストーン

### Phase 1: データ収集基盤 ✅ 完了（2025-12）

**目標**: 全データソースからraw層へのパイプライン構築

| サービス | 実装 | テスト | 本番稼働 |
|---------|:----:|:------:|:--------:|
| Toggl Track | ✅ | ✅ 12 | ✅ |
| Google Calendar | ✅ | ✅ 20 | ✅ |
| Zaim | ✅ | ✅ 26 | - |
| Fitbit | ✅ | ✅ 23 | - |
| Tanita | ✅ | ✅ 24 | - |
| Trello | ✅ | ✅ 26 | - |
| TickTick | ✅ | - | - |
| Airtable | ✅ | - | - |

**成果物**:
- Python パイプライン ~5160行
- テスト 131件 / カバレッジ ~90%

---

### Phase 2: 本番運用 🔄 進行中

**目標**: 全サービスの自動同期と監視

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| GitHub Actions設定 | ⏳ | sync-daily.yml |
| 本番E2Eテスト | ⏳ | 8サービス |
| 暗号化キー復旧手順 | ⏳ | ドキュメント化 |
| 同期失敗アラート | ⏳ | Slack/Email |
| バックアップ手順 | ⏳ | Supabase export |

**完了条件**: 1週間安定稼働

---

### Phase 3: DWH構築 ⏳ 未着手

**目標**: staging/core/marts層の構築によるデータ活用基盤

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| dbt プロジェクト作成 | ⏳ | transform/ |
| staging層ビュー | ⏳ | stg_{service}__{entity} |
| core層ビュー | ⏳ | fct_*, dim_* |
| marts層ビュー | ⏳ | agg_* |
| LLM分析用ビュー | ⏳ | llm_daily_summary |

**完了条件**: `SELECT * FROM marts.agg_daily_health` が動作

---

### Phase 4: 可視化 ⏳ 未着手

**目標**: Grafanaダッシュボードで日々の状態を確認

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| Grafana Cloud連携 | ⏳ | PostgreSQLデータソース |
| 健康ダッシュボード | ⏳ | 睡眠・心拍・体重 |
| 生産性ダッシュボード | ⏳ | 作業時間・予実 |
| 支出ダッシュボード | ⏳ | カテゴリ別・月次 |

**完了条件**: 毎朝ダッシュボードで前日の状態を確認できる

---

## 将来の拡張（Backlog）

### データソース追加

| サービス | 優先度 | 用途 | 備考 |
|---------|:------:|------|------|
| Notion | 中 | 知識管理 | 大容量のため別DBを検討 |
| Obsidian | 中 | 知識管理 | ローカルファイル同期 |
| あすけん | 低 | 栄養管理 | API非公開の可能性 |
| Personal CRM | 低 | 人間関係 | 自作 or Notion |

### 機能追加

| 機能 | 優先度 | 備考 |
|------|:------:|------|
| 差分同期 | 低 | sinceパラメータ対応 |
| Fitbit追加データ | 低 | Breathing Rate, Cardio Score |
| Tanita歩数 | 低 | pedometer |
| 管理UI | 低 | Grafanaで十分なら不要 |

---

## 進捗の更新方法

このファイルは以下のタイミングで更新：

1. **タスク完了時**: ステータスを ✅ に変更
2. **Phase完了時**: 次のPhaseを「進行中」に変更
3. **週次レビュー**: 優先度の見直し

---

## 参考リンク

- [基本設計書](DESIGN.md)
- [テーブル定義書](database/table_design.md)
- [アーキテクチャ](architecture/overview.md)
