---
title: ロードマップ
description: 次に何をすべきか、一目でわかるドキュメント
---

## 現在のステータス

```
Phase 1: データ収集基盤   ████████████████░░░░  80% 🔄 進行中
Phase 2: DWH構築(staging) ░░░░░░░░░░░░░░░░░░░░   0% ⏳ 未着手
Phase 3: 可視化           ░░░░░░░░░░░░░░░░░░░░   0% ⏳ 未着手
Phase 4: 本番運用         ░░░░░░░░░░░░░░░░░░░░   0% ⏳ 未着手
Phase 5: ビジュアルETL    ░░░░░░░░░░░░░░░░░░░░   0% ⏳ 未着手
```

---

## 対象ドメイン

| ドメイン | サービス | 実装状況 |
|---------|---------|:--------:|
| 時間管理 | Toggl Track | ✅ |
| 予定管理 | Google Calendar | ✅ |
| 家計管理 | Zaim | ✅ |
| 健康管理 | Fitbit, Tanita | ✅ |
| プロジェクト管理 | Trello | ✅ |
| タスク管理 | TickTick, Todoist | ✅ / ⏳ |
| 習慣管理 | TickTick, Habitify, Habitica | ✅ / ⏳ / ⏳ |
| 休息管理 | YouTube | ⏳ |
| マスタ管理 | Airtable | ✅ |
| 知識管理 | Notion, Obsidian | ⏳ |
| 社会関係管理 | Notion, Coda | ⏳ |

---

## マイルストーン

### Phase 1: データ収集基盤 🔄 進行中（80%）

**目標**: 全データソースからraw層へのパイプライン構築 + 管理UI

#### 1-A. パイプライン実装

| サービス | ドメイン | 実装 | テスト | 本番稼働 |
|---------|---------|:----:|:------:|:--------:|
| Toggl Track | 時間管理 | ✅ | ✅ 12 | ✅ |
| Google Calendar | 予定管理 | ✅ | ✅ 20 | ✅ |
| Zaim | 家計管理 | ✅ | ✅ 26 | ✅ |
| Fitbit | 健康管理 | ✅ | ✅ 23 | ✅ |
| Tanita | 健康管理 | ✅ | ✅ 24 | ✅ |
| Trello | プロジェクト管理 | ✅ | ✅ 26 | ✅ |
| TickTick | タスク/習慣管理 | ✅ | - | ✅ |
| Airtable | マスタ管理 | ✅ | - | ✅ |
| Todoist | タスク管理 | ⏳ | - | - |
| Habitify | 習慣管理 | ⏳ | - | - |
| Habitica | 習慣管理 | ⏳ | - | - |
| YouTube | 休息管理 | ⏳ | - | - |
| Notion | 知識/社会関係 | ⏳ | - | - |
| Obsidian | 知識管理 | ⏳ | - | - |
| Coda | 社会関係管理 | ⏳ | - | - |
| Asana | プロジェクト管理 | ⏳ | - | - |

#### 1-B. 管理ダッシュボード

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| Next.js + Vercel セットアップ | ⏳ | Supabase Starterベース |
| 初回セットアップフロー | ⏳ | PAT入力 → オーナー登録 |
| GitHub OAuth ログイン | ⏳ | オーナーのみ許可 |
| サービス連携UI（OAuth） | ⏳ | Fitbit, Tanita, TickTick, GCal, Zaim |
| サービス連携UI（API Key） | ⏳ | Toggl, Trello, Airtable |
| 同期状況ダッシュボード | ⏳ | 最終同期、エラー表示 |
| 手動同期実行 | ⏳ | GitHub Actions dispatch |
| 自動実行トグル | ⏳ | workflow enable/disable |
| Actions使用量表示 | ⏳ | GitHub API billing |

#### 1-C. rawテーブルスキーマ

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| スキーマ設計の統一 | ⏳ | 構造化列 + raw_response |
| マイグレーション整備 | ⏳ | 初回セットアップで全テーブル作成 |
| Vault移行 | ⏳ | 認証情報をSupabase Vaultへ |

**成果物**:
- Python パイプライン ~5160行
- テスト 131件 / カバレッジ ~90%
- GitHub Actions による毎日 JST 00:00 自動同期
- 管理ダッシュボード（Next.js on Vercel）

---

### Phase 2: DWH構築（staging層） ⏳ 未着手

**目標**: dbtによるstaging層の構築

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| dbt プロジェクト初期化 | ⏳ | transform/ |
| staging層モデル | ⏳ | stg_{service}__{entity} |
| 型変換・正規化ロジック | ⏳ | タイムゾーン、NULL処理 |
| テスト・ドキュメント | ⏳ | dbt test, dbt docs |

**スコープ**:
- raw → staging の変換のみ
- サーバー側で定義、全ユーザー共通
- core/martsはPhase 5で動的構築

**完了条件**: `SELECT * FROM staging.stg_fitbit__sleep` が動作

---

### Phase 3: 可視化 ⏳ 未着手

**目標**: BIツールで日々の状態を確認

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| 可視化ツール選定 | ⏳ | Metabase / Grafana / Superset |
| 健康ダッシュボード | ⏳ | 睡眠・心拍・体重 |
| 生産性ダッシュボード | ⏳ | 作業時間・予実 |
| 支出ダッシュボード | ⏳ | カテゴリ別・月次 |

**完了条件**: 毎朝ダッシュボードで前日の状態を確認できる

---

### Phase 4: 本番運用 ⏳ 未着手

**目標**: 安定した自動同期と監視

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| 同期失敗アラート | ⏳ | Slack/Discord連携 |
| バックアップ手順 | ⏳ | Supabase export |
| 運用ドキュメント整備 | ⏳ | runbook.md 拡充 |
| 障害対応手順 | ⏳ | トークン期限切れ、API制限 |

**完了条件**: 障害対応手順完備 + 通知設定 + 1週間安定稼働

---

### Phase 5: ビジュアルETLエディタ ⏳ 未着手

**目標**: コード不要でcore/marts層を動的構築

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| 技術選定 | ⏳ | React Flow等 |
| ノードエディタUI | ⏳ | ドラッグ&ドロップ |
| SQL生成エンジン | ⏳ | ノード → SELECT文 |
| VIEW自動作成 | ⏳ | 保存時にDDL実行 |
| プレビュー機能 | ⏳ | リアルタイムクエリ結果 |

**構想**:
```
[stg_fitbit__sleep]──┐
                     ├──[結合]──[集計]──[日次サマリー]
[stg_toggl__entries]─┘
```

**完了条件**: GUIでクロスドメイン分析ビューを作成できる

---

## 今すぐやること（Next Actions）

| # | タスク | 見積 | 優先度 | ステータス | 備考 |
|---|--------|------|:------:|:----------:|------|
| 1 | 管理ダッシュボード構築 | - | 🔴 高 | ⏳ | Next.js + Vercel |
| 2 | rawテーブルスキーマ統一 | 4h | 🔴 高 | ⏳ | 構造化列 + raw_response |
| 3 | Supabase Vault移行 | 2h | 🔴 高 | ⏳ | 認証情報の保存先変更 |
| 4 | Phase 1 残りサービスの優先順位決定 | 30m | 中 | ⏳ | |

---

## 将来の拡張（Backlog）

### データソース追加

| サービス | ドメイン | 優先度 | 備考 |
|---------|---------|:------:|------|
| Todoist | タスク管理 | 中 | |
| Habitify | 習慣管理 | 中 | |
| Habitica | 習慣管理 | 低 | |
| YouTube | 休息管理 | 中 | 視聴履歴 |
| Notion | 知識/社会関係 | 中 | |
| Obsidian | 知識管理 | 低 | |
| Coda | 社会関係管理 | 低 | |

### 機能追加

| 機能 | 優先度 | 備考 |
|------|:------:|------|
| Fitbit追加データ | 低 | Breathing Rate, Cardio Score |
| Tanita歩数 | 低 | pedometer |
| HL7 FHIR標準化 | 低 | 健康データの相互運用性 |

---

## Inbox（未整理TODO）

- **Todoist**: 追加予定
- **Asana**: プロジェクト管理の代替として検証予定
- **Notion**: どのデータベース・ページを管理するかNotion上で明示的に選択するページを実装予定
- **Obsidian**: vault自体をGitHubにアップロードし、GitHub PATを使って内容を読み取る
- **Coda**: 新規追加予定。何に使えるか未検討
- **YouTube**: 休息管理として視聴履歴を取得予定

---

## 進捗の更新方法

このファイルは以下のタイミングで更新：

1. **タスク完了時**: ステータスを ✅ に変更
2. **Phase完了時**: 次のPhaseを「進行中」に変更
3. **週次レビュー**: 優先度の見直し

---

## 関連ドキュメント

- [DWH 4層アーキテクチャ](./architecture/dwh-layers)
- [管理ダッシュボード設計](./architecture/admin-dashboard)
- [認証・セキュリティ設計](./architecture/security)

---

*最終更新: 2025-12-02*
