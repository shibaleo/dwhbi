---
title: ADR-001 リリース戦略
description: バージョニングとリリース条件の方針
---

# ADR-001: リリース戦略

## ステータス

**廃止（obsolete）** - 2025-12-08

サービスごとのマイナーバージョンアップではなく、サービスごとにmarts層まで設計する方針に変更。

## コンテキスト

本プロジェクトは8つの外部サービスと連携し、データを統合・分析する。当初は「サービス追加ごとにバージョンアップ」という戦略だったが、全サービスの同期が完了した現在、**価値を届けるタイミング**を基準にした戦略に変更する。

## 決定

### バージョニング

セマンティックバージョニングを採用：

```
MAJOR.MINOR.PATCH

MAJOR: 破壊的変更（スキーマ変更等）
MINOR: 機能追加、新しい価値の提供
PATCH: バグ修正、ドキュメント更新
```

### リリース計画

#### v0.1.0: MVP（分析可能な状態）

**目標**: 最低限の可視化とLLMによる分析を可能にする

| タスク | ステータス | 備考 |
|--------|:----------:|------|
| 主要サービスの同期実装 | ✅ | 8サービス完了 |
| 管理コンソール | ✅ | OAuth、Vault連携 |
| Toggl Track staging層 | ✅ | 9モデル + 47テスト |
| Google Calendar staging層 | ✅ | 4モデル + 25テスト + seed |
| Fitbit staging層 | ⏳ | 健康データ分析に必須 |
| Zaim staging層 | ⏳ | 支出分析に必須 |
| Tanita staging層 | ⏳ | 体組成データ分析に必須 |
| Grafana ダッシュボード（staging用） | ⏳ | データ確認・品質チェック用 |
| LLM分析可能な状態 | ⏳ | staging層からSQLで分析 |

**完了条件**:
- Toggl + Google Calendar + Fitbit + Zaim + Tanita のstaging層完成
- Grafana でstaging層のデータ確認ダッシュボード
- LLMがSQLで分析できる状態

#### v0.1.x: staging層拡充

v0.1.0 リリース後、必要に応じて追加：

| タスク | 優先度 |
|--------|:------:|
| Trello staging層 | 低 |
| TickTick staging層 | 低 |
| Airtable staging層 | 低 |

#### v0.2.0: 運用安定化

**目標**: 日常の運用に乗せる

| タスク | ステータス |
|--------|:----------:|
| 全サービスのstaging層完了 | ⏳ |
| サービス追加・アップデート戦略策定 | ⏳ |
| 日常運用フロー確立 | ⏳ |
| アラート/監視設定 | ⏳ |

**完了条件**:
- 全8サービスのstaging層完成
- 1週間以上の安定稼働
- 障害対応手順完備

#### v1.0.0: 分析基盤完成（必要に応じて）

**目標**: 高度な分析と可視化

| タスク | ステータス |
|--------|:----------:|
| core層設計・実装 | ⏳ |
| marts層設計・実装 | ⏳ |
| Grafana ダッシュボード（分析用） | ⏳ |

**完了条件**:
- クロスドメイン分析が可能
- Grafana で分析・インサイト用ダッシュボード
- 日常的にダッシュボードを活用

### ダッシュボード構成

| ダッシュボード | 対象レイヤー | 目的 |
|--------------|-------------|------|
| staging確認用 | staging | データ品質チェック、同期状況確認 |
| 分析用 | core/marts | インサイト、KPI、トレンド分析 |

## 原則

### 早くリリースして学ぶ

- v0.1.0 を早くリリースし、実際に使いながら次の要件を決める
- 完璧を目指さず、価値を届けることを優先

### YAGNI（You Aren't Gonna Need It）

- core/marts層は必要になったら作る
- 全サービスのstaging層より、使うサービスを優先

### 段階的な価値提供

- 各バージョンで明確な価値を提供
- v0.1.0: 分析可能 → v0.2.0: 安定運用 → v1.0.0: 高度な分析

## サービス追加チェックリスト

### 必須（raw層）

- [ ] rawテーブルスキーマ定義
- [ ] 認証処理実装
- [ ] API取得実装
- [ ] DB書き込み実装
- [ ] 同期スクリプト実装
- [ ] 管理UI設定フォーム
- [ ] Vault保存/読み取り
- [ ] GitHub Actions統合

### 必須（staging層）

- [ ] dbt モデル作成
- [ ] スキーマ定義（.yml）
- [ ] data_tests 追加
- [ ] dbt build 成功

### 推奨

- [ ] ユニットテスト
- [ ] ドキュメント更新

## 結果

- **v0.1.0 を早期リリース**して実際に分析に使える状態にする
- 使いながら v0.2.0 の要件を決める
- core/marts 層は必要性が明確になってから実装

## 関連

- [310 ロードマップ](/300-management/310-status/roadmap)
- [310 実装状況](/300-management/310-status/implementation)
