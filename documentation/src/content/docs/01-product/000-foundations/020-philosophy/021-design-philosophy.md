---
title: 設計哲学
description: DWH+BIの設計原則
sidebar:
  order: 21
---

# 設計哲学

## 用語

**ドメイン**: 個人の人生における関心領域。例：時間・金銭・健康・タスク・プロジェクト・習慣・人間関係・知識など。

## 設計原則

### 分散リソースの集約

世界には個人向けの無料サービスが散在している。単体では機能が制限されるが、組み合わせれば実用的なデータ基盤となる。

- **データ収集**: ドメイン特化型サービス（Toggl、Fitbit等）が入力UI・スキーマ設計・API公開を提供し、ログの習慣化をサポート
- **データ保管**: BaaS（Supabase等）
- **定期実行**: CI/CD（GitHub Actions等）
- **可視化**: ダッシュボード（Grafana Cloud等）

### エンタープライズ規律の個人適用

個人データの管理はスプレッドシートでも可能だが、データ品質・信頼性の担保が難しい。本システムでは、企業が培ってきた設計規律（DWH 4層アーキテクチャ、データ品質テスト、変換パイプライン）を個人のデータに適用する。

dbt、PostgreSQL等、多くの開発者が検証してきたツールを活用することで、個人がゼロから構築するより高品質なシステムを実現できる。

---

## 参照実装としての位置づけ

### フォークを想定しない公開

本プロジェクトは、他者がフォークして利用することを想定していない。core/marts層は個人のドメイン知識・分析軸に依存し、staging層も特定サービスの組み合わせに依存するためである。

にもかかわらず**publicリポジトリ**として公開し、ドキュメントを充実させる理由は以下の通り：

| 目的 | 説明 |
|------|------|
| ポートフォリオ | 設計思想・実装品質を示す成果物として |
| 参照実装 | 同様のシステムを構築する際の設計パターン・アーキテクチャの参考として |

### アーキテクチャ・設計パターンとしての汎用性

リポジトリ自体の再利用性はないが、**設計パターンとしての汎用性**はある：

| 観点 | 提供する価値 |
|------|-------------|
| DWH設計 | 4層アーキテクチャ（raw→staging→core→marts）の実装例 |
| データ統合 | 複数SaaSからのデータ統合パターン |
| 運用設計 | 個人向け低コスト運用の構成例（Supabase + GitHub Actions + dbt） |
| LLM時代のデータ基盤 | MCP前提、コンテキスト効率重視の設計 |

### 公開制約によるセキュリティ確保

publicリポジトリであることは、セキュリティ上の**制約**として機能する：

- パスワード・APIキーのハードコード禁止
- 最小限の環境変数を除き、シークレットは Supabase Vault で管理
- 認証情報を含むファイルの `.gitignore` 徹底

「公開しても問題ない状態を維持する」という制約が、結果としてセキュリティベストプラクティスの遵守を強制する。

つまり、本プロジェクトは「再利用可能なライブラリ」ではなく、**小規模な個人向けDWH+BIの参照実装（Reference Implementation）** として価値を提供する。
