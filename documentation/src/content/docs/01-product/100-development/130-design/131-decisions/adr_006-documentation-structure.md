---
title: ADR-006 ドキュメント構成
description: Dewey Decimal方式とProduct/Project分離の採用
---

# ADR-006: ドキュメント構成

## ステータス

採用（2025-12-07）、更新（2025-12-10）

## コンテキスト

ドキュメントが増えるにつれ、以下の課題が発生した：

1. **連番の挿入困難**: `01`, `02`, `03`... の連番では間に新しいセクションを挿入しにくい
2. **分類の不明確さ**: 開発ドキュメント（要件→仕様→設計→テスト）と管理ドキュメント（品質、運用、セキュリティ）が混在
3. **VSCodeでの順序**: ファイルシステム上のソート順がサイドバーの意図した順序と一致しない
4. **2つのレベルの混在**: プロダクト向けドキュメント（設計、テスト、運用）とプロジェクト向けドキュメント（計画、進捗）が同階層に存在

## 決定

### 1. Product/Project 2階層分離

ドキュメントを「プロダクト」と「プロジェクト」で分離する。

```
docs/
  01-product/                 ← プロダクトドキュメント（展開）
    000-foundations/          ← 思想・背景
    100-development/          ← 要件→仕様→設計
    200-quality/              ← テスト・品質基準
    400-operations/           ← 運用・保守
    500-security/             ← セキュリティ

  02-project/                 ← プロジェクトドキュメント（折りたたみ）
    300-management/           ← 計画・進捗・PM
```

**分離の意図**:
- **01-product**: システム・コードに関するドキュメント（開発者・運用者向け）
- **02-project**: 人・プロセス・管理に関するドキュメント（PM・ステークホルダー向け）

**サイドバー設定**:
- Product: デフォルト展開（`collapsed: false`）
- Project: デフォルト折りたたみ（`collapsed: true`）

### 2. 3桁Dewey Decimal方式の採用

番号体系を3桁の階層的番号に変更する。

```
01-product/
  000-foundations/        ← 全体のコンテキスト
  100-development/        ← 開発（大分類）
    110-requirements/     ← 要件定義（中分類）
    120-specifications/   ← 仕様書
      121-overview/       ← 全体（小分類）
      122-pipelines/
      123-transform/
      124-console/
    130-design/           ← 設計書
      131-decisions/      ← ADR
  200-quality/            ← 品質
    210-test/
    220-standards/
  400-operations/         ← 運用
    410-guides/
    420-runbook/
  500-security/           ← セキュリティ

02-project/
  300-management/         ← 管理
    310-planning/
    320-tracking/
    330-project/
```

**利点**:
- 大分類の間に `150-xxx` を挿入可能
- 小分類の間に `115-xxx` を挿入可能
- VSCodeアウトライナーで意図した順序で表示
- LaTeX風の階層番号に慣れている場合に直感的

### 3. PMBOK/ITIL/ISO 12207 を参考にした分類

ドキュメントを以下の分類に整理する。

| 番号 | 分類 | 内容 | 性質 | 参考規格 |
|------|------|------|------|----------|
| 000 | Foundations | 背景・基礎・設計思想 | 全体のコンテキスト | - |
| 100 | Development | 要件→仕様→設計 | 開発成果物 | ISO 12207 技術プロセス |
| 200 | Quality | テスト計画・品質基準 | 品質管理 | ISO 29119, PMBOK 品質管理 |
| 300 | Management | 計画・進捗・PM | プロジェクト管理 | PMBOK |
| 400 | Operations | ガイド・運用手順 | 運用・保守 | ITIL |
| 500 | Security | 脅威モデル・認証設計 | セキュリティ | - |

### 4. リンクテキストへの番号プレフィックス

ドキュメント内リンクには番号プレフィックスを含める。

```markdown
<!-- 推奨 -->
[131 ADR-002 分析軸マスタ設計](/01-product/100-development/130-design/131-decisions/adr_002-ref-schema-design)
[024 DWH 4層アーキテクチャ](/01-product/000-foundations/020-philosophy/024-dwh-architecture)

<!-- 非推奨 -->
[分析軸マスタ設計](/01-product/100-development/130-design/131-decisions/adr_002-ref-schema-design)
```

**目的**:
- リンクテキストから参照先の階層（どのカテゴリのドキュメントか）が即座にわかる
- 番号の大小で情報の抽象度を推測できる（000番台は基礎概念、100番台は開発詳細）

## 検討した代替案

### 案1: 連番維持（01, 02, 03...）
- 却下理由: 挿入困難、番号の振り直しが必要

### 案2: 10刻み番号（10, 20, 30...）
- 却下理由: 2桁では階層表現が不十分、見た目が不自然

### 案3: アルファベットプレフィックス（a-, b-, c-...）
- 却下理由: 直感的でない、階層表現が難しい

### 案4: 番号なし（config側で順序制御）
- 却下理由: ファイルシステム上の順序がアルファベット順になり、VSCodeでの視認性が低下

### 案5: フラット構造維持（Product/Project分離なし）
- 却下理由: 読者の視点が異なる（開発者 vs PM）ため、分離した方が明確

## 結果

- ドキュメントの挿入・拡張が容易になった
- 分類が明確になり、ポートフォリオとしてPM/開発スキルを示しやすくなった
- VSCodeのエクスプローラーで意図した順序で表示される
- Product/Project分離により、読者の目的に応じたナビゲーションが可能になった

## 将来の拡張

### Knowledge レベルの分離

現在 `000-foundations` には以下が混在している：

- **一般知識**: DWH/BI の概念、技術スタックの解説（汎用的）
- **設計思想**: このプロジェクト固有の設計判断（プロジェクト固有）

プロジェクトが成熟した段階で、以下の3階層に分離することを検討する：

```
docs/
  00-knowledge/              ← 一般知識・技術スタック（新設）
  01-product/                ← プロダクト（設計思想は foundations に残す）
  02-project/                ← プロジェクト管理
```

**分離の基準**:
- 他のプロジェクトにも適用できる → Knowledge
- このプロジェクト固有の判断 → Product (foundations)

**現時点で分離しない理由**:
- ドキュメント量が少なく、分離のメリットが薄い
- ポートフォリオとして「成果物」を最前面に出す方が評価されやすい

## 関連

- [121 リポジトリ構成](/01-product/100-development/120-specifications/121-overview/repository-structure)
