---
title: 業務要件
description: システムが解決すべきビジネス課題と目的
---

# 業務要件

## 背景

- LLMの発展とMCPの登場により、APIを提供する様々なサービスのデータやRDBのデータを自然言語によって分析することが可能になった。

## 問題

1. 一つのLLMで複数のSaaSサービスからデータを取得すると、オーバーヘッド（jsonなどの記号の繰り返し構造）がコンテキストを圧迫する。
2. 各サービスのAPIコールにはレートリミットが存在し、複数サービスに対して頻繁にAPIコールを行うと制限に達する。
3. サービスごとにmcp-connectorを用意するのはデータ分析をしたいユーザーにとって負担が大きい。

## 課題

1. 複数のSaaSサービスからデータを収集し、一つのRDBに統合保存する。
2. 統合されたRDBに対してLLMがクエリを発行する前提のデータ構造を提供する。
3. APIコールを削減し、レートリミットに達するリスクを低減する。
4. ユーザーがサービスごとにmcp-connectorを用意する負担を軽減する。

## 目的

- ユーザが自分のデータを活用し、生活の質を向上させることを支援する。
- ユーザが自分のデータを完全にコントロールできる環境を提供する。
- ユーザがデータに基づいた意思決定を行えるようにする。
- 知識さえ習得すればユーザーが無料で運用可能な仕組みを提供する。
- 小規模な個人向けDWH+BIの参照実装（Reference Implementation）を提示する。

## 目標

1. ユーザが普段使っているアプリケーションのデータを簡単に収集できるようにする。
2. ユーザはデータベースや認証を含めてすべてのデータを自分で管理する。
3. 蓄積したデータを横断的に分析可能にする。
4. データの可視化方法を提案する。
5. 個人利用向けにシンプルで低コスト(小規模なら無料)な運用を実現する。

## 4 Information の可視化

本システムの中核となる価値は、以下の **4 Information（4情報）** を可視化し、フィードバックループを回せるようにすることである：

| 情報 | 説明 | データソース |
|------|------|-------------|
| **actual** | 実績 - 実際に行った活動の記録 | Toggl Track, Fitbit 等 |
| **estimate** | 推定 - 過去の実績から算出した将来予測 | actual から自動計算 |
| **target** | 目標 - ユーザーが設定した達成したい値 | ユーザー入力（LLMとの対話） |
| **plan** | 計画 - 目標達成のための具体的な予定 | Google Calendar 等 |

### フィードバックループ

```
actual（実績）
   ↓ 分析
estimate（推定）
   ↓ 比較
target（目標）← ユーザーが調整
   ↓ 具体化
plan（計画）← ユーザーが調整
   ↓ 実行
actual（実績）
```

この4情報を日次・週次・月次で可視化することで、ユーザーは：
- 自分の行動パターンを客観的に把握できる
- 目標と実績のギャップを認識できる
- データに基づいた計画の見直しができる

詳細は [ADR-003 フィードバックループ](../130-design/131-decisions/adr_003-feedback-loop) を参照。

## 対象予定サービス

| サービス | ドメイン |
|---------|---------|
| Toggl Track | 時間 |
| Clokify | 時間 |
| Google Calendar | 予定(スケジュール) |
| Fitbit | 健康（活動量・睡眠） |
| Tanita Health Planet | 健康（体組成・血圧） |
| Garmin Connect| 健康（体組成・血圧） |
| Strava | 運動・アクティビティ |
| Zaim | 家計 |
| PocketSmith | 家計 |
| Trello | プロジェクト・タスク |
| Todoist | タスク |
| Microsoft To Do | タスク |
| Google Tasks | タスク |
| TickTick | プロジェクト・タスク・ 習慣|
| ClickUp | プロジェクト|
| Github(Gist) | プロジェクト|
| GitLab | プロジェクト|
| Habitica | 習慣 |
| Habitify | 習慣 |
| Airtable | テーブル・スプレッドシート |
| Notion |ドキュメント・データベース |
| Coda | ドキュメント・データベース |
| Joplin | ドキュメント・データベース |
| Asana | プロジェクト・タスク |
| Monday.com | プロジェクト・タスク |
| Wrike | プロジェクト・タスク |
| Zendesk | プロジェクト・タスク |

## 利用シナリオ

### シナリオ1: 週次レビュー
- 1週間の作業時間、活動量、支出を一覧で確認
- 時間の使い方と健康状態の相関を分析

### シナリオ2: 月次集計
- 月ごとのプロジェクト別作業時間を集計
- カテゴリ別支出の推移を確認

### シナリオ3: 長期トレンド分析
- 年単位での健康指標の推移
- 生活習慣の変化と健康状態の関連性を分析
